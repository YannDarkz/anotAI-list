<div class="purchased-list">
  <h4>Carrinho de Itens ðŸ›’</h4>
  <h6><strong>ðŸ’¸ Total:</strong> {{buyPrice | currency:'BRL'}}</h6>

  <ng-container *ngFor="let categoryObj of purchasedItems">
    <details [open]="openCategory === categoryObj.category" >
      <summary (click)="toggleDetails(categoryObj.category)">{{ categoryObj.category | titlecase }}</summary>
    <ul *ngIf="categoryObj.products.length > 0; else noItems">
      <li *ngFor="let item of categoryObj.products; let i = index">
        <app-card-buy-item
         [name]="item.name"
          [price]="item.price"
          [quantity]="item.quantity"
          (remove)="removeFromPurchasedItems(categoryObj.category, i)"></app-card-buy-item>
      </li>
    </ul>

  </details>
  </ng-container>

  <ng-template #noItems>
    <p class="text-default">Nenhum item foi adicionado ainda ðŸ›’.</p>
  </ng-template>
</div>

<!-- 
<div *ngFor="let categoryObj of categoriesWithItems">
   <details>
    <summary>{{ categoriaPT(categoryObj.category) | uppercase }}</summary>
    <ul *ngIf="categoryObj.products.length > 0; else noItems">
      <li *ngFor="let item of categoryObj.products; let i = index">
        <app-card-list [name]="item.name" [price]="convertFormattedPriceToNumber(item.price) | currency:'BRL'"
          [quantity]="item.quantity" (edit)="editItem(item, i, categoryObj.category)"
          (delete)="deleteItem(categoryObj.category, item.id)"
          (buy)="buyItem(item, categoryObj.category, i)"></app-card-list>
      </li>
    </ul>
  </details>
  </div> -->